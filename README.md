# Macros: Data 2 Urls

本项目主要记录在 Windows 系统上，针对主流的社交软件如 Telegram、QQ 等中的消息记录，编写 EmEditor 软件的相关宏文件来筛选需要的网址列表。

# 使用说明

所有的宏命令文件都是面向大数据文件编写的，小数据文件可以使用，但是可能不是最优。

比如对于大文件来说，提取筛选数据效率更高，但是对于小文件来说，可能筛选数据并覆盖的操作可能效率更高，并且可以减少中间文件的产生。

## 数据源评价

不同的社交软件的设计理念、市场定位等因素各不相同，对于用户的权限也会有松有紧，因此对于数据导出的支持成都也会有所不同。

假设不考虑第三方工具支持、主要使用鼠标、针对桌面端的情况，

- 对于 QQ 来说，群聊数据支持一键导出，支持加密文件格式 `.bak` 、网页格式 `.mht` 、文本文件格式 `.txt` ，支持对单个和所有群聊进行数据导出。
- 对于 WeChat 来说，不支持数据导出，在桌面上的缓存群聊数据是加密的
- 对于 Telegram 来说，群聊数据支持一键导出，支持机器可读的 `.json` 格式和人类可读的 `.html` 格式，仅支持逐个导出群聊数据，不支持批量导出群聊数据。
- 别的国外的社交软件我目前还没有学习了解。

从质量上来分析的话，那普遍是国外的群聊质量比国内的群聊质量高上至少一个数量级。

因此，针对的社交软件首先是 Telegram，然后是 QQ 。

值得一说的是，关于如何在 Telegram 中批量导出多个群聊的数据，几年之前有人在 StackOverFlow 上面也提出相应的疑惑，目前看下来，有方法能够实现，但是不是简单方法。该方法目前我也在学习。

# 项目文件夹说明

## Blogs/

该目录下存放有 4 篇博文说明：[操作篇](https://github.com/YvetteQSystim/Telegram-Data-to-URL-Lines/blob/main/Blogs/01%20%20%E6%93%8D%E4%BD%9C%E7%AF%87.md) | 优化篇 | 安全篇 | 心得篇 。

博文会陆续更新，今年是能写完的。

- 操作篇，讲述了我是怎么实用已有的软件和宏等工具来进行网址筛选的；
- 优化篇，罗列了整个工作流程可以在哪些方面可以进一步改进；
- 安全篇，分析了整个工作流程会涉及到的和网络安全、信息安全相关的问题
- 心得篇，罗列了我在查看这些网页产生的一些想法，文章内容会比较跳跃（东一榔头西一棒槌）。

## Macros/

该目录下主要存放为 EmEditor 这个软件编写的一些宏命令文件：

## common.js

本文件放置了所有的函数定义，方便这些函数为不同的宏命令文件公用。

其中值得注意的一些函数：

🔴🔴🔴🔴

### (1) Telegram json 2 many date limited urls.jsee

该🔴🔴🔴🔴

### (2) EN 2 Telegran_urls.jsee

🔴🔴🔴🔴

### (3) Text 2 one url.jsee

🔴🔴🔴🔴

1. `json2urls.jsee`

   最重要的文件，从 json 数据直接得到需要的网址行汇总。

2. `+  Extraxt tglink.jsee`

   从 `EN.txt` 文件（英文网址文本行）中提取 `Telegram` 相关的内容。

> 方法保证正确能用，但是整体看不是最优。
>
> 之后会将 `json2urls.jsee` 分割成几个子文件，再发布上去。子文件便于宏编译。

## Scripts/

该目录下存放批量导出相关的脚本和文件。

### (1) open.bat

批量打开网址的脚本

### (2) pages.txt

该脚本的处理文本对象



> 🤔我并不认为批量打开网页这个工作是最好的工作，但是放到现在，这确实最可行并且难度不高的方法。
>
> 从实用性的角度，批量打开是目前看来是最合适的，但是最终还得是 Instan View。

